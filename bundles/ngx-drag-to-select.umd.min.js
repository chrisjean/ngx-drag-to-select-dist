!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-drag-to-select",["exports","@angular/common","@angular/core","rxjs","rxjs/operators"],e):e((t=t||self)["ngx-drag-to-select"]={},t.ng.common,t.ng.core,t.rxjs,t.rxjs.operators)}(this,(function(t,e,n,o,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,s,r=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(t){s={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}var l={selectedClass:"selected",shortcuts:{moveRangeStart:"shift+r",disableSelection:"alt",toggleSingleItem:"meta",addToSelection:"shift",removeFromSelection:"shift+meta"}},a=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&null!==t};function u(t,e){return a(t)&&a(e)&&Object.keys(e).forEach((function(n){var o,s;a(e[n])?(t[n]||Object.assign(t,((o={})[n]={},o)),u(t[n],e[n])):Object.assign(t,((s={})[n]=e[n],s))})),t}var d=function(t,e,n){return void 0===e&&(e=5),void 0===n&&(n=5),t.width>e||t.height>n},h=function(t,e){return e.left<=t.x&&t.x<=e.left+e.width&&e.top<=t.y&&t.y<=e.top+e.height},p=function(t,e){return t.left<=e.left+e.width&&t.left+t.width>=e.left&&t.top<=e.top+e.height&&t.top+t.height>=e.top},m=function(t){return t.getBoundingClientRect()},f=function(t){return{x:t.clientX,y:t.clientY}},g=function(t,e){var n=f(t),o=n.x,s=n.y,r=document&&document.documentElement?{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}:{x:0,y:0},i=(e.boundingClientRect.width-e.clientWidth)/2,c=e.boundingClientRect.left+r.x,l=e.boundingClientRect.top+r.y;return{x:o-i-(c-window.pageXOffset)+e.scrollLeft,y:s-i-(l-window.pageYOffset)+e.scrollTop}},y=function(){return function(t){return t.pipe(s.distinctUntilChanged((function(t,e){return t&&e&&t.code===e.code})))}},S=function(){function t(t){this.platformId=t,e.isPlatformBrowser(this.platformId)&&this._initializeKeyboardStreams()}return t.prototype._initializeKeyboardStreams=function(){this.keydown$=o.fromEvent(window,"keydown").pipe(s.share()),this.keyup$=o.fromEvent(window,"keyup").pipe(s.share()),this.distinctKeydown$=this.keydown$.pipe(y(),s.share()),this.distinctKeyup$=this.keyup$.pipe(y(),s.share()),this.mouseup$=o.fromEvent(window,"mouseup").pipe(s.share()),this.mousemove$=o.fromEvent(window,"mousemove").pipe(s.share())},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]}]},t}();var v,_=new n.InjectionToken("DRAG_TO_SELECT_CONFIG"),I=new n.InjectionToken("USER_CONFIG"),b=Symbol(),E=function(){function t(t,e,n,o){this.config=t,this.platformId=e,this.host=n,this.renderer=o,this.selected=!1,this.rangeStart=!1}return Object.defineProperty(t.prototype,"value",{get:function(){return this.dtsSelectItem?this.dtsSelectItem:this},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.nativeElememnt[b]=this},t.prototype.ngDoCheck=function(){this.applySelectedClass()},t.prototype.toggleRangeStart=function(){this.rangeStart=!this.rangeStart},Object.defineProperty(t.prototype,"nativeElememnt",{get:function(){return this.host.nativeElement},enumerable:!0,configurable:!0}),t.prototype.getBoundingClientRect=function(){return e.isPlatformBrowser(this.platformId)&&!this._boundingClientRect&&this.calculateBoundingClientRect(),this._boundingClientRect},t.prototype.calculateBoundingClientRect=function(){var t=m(this.host.nativeElement);return this._boundingClientRect=t,t},t.prototype._select=function(){this.selected=!0},t.prototype._deselect=function(){this.selected=!1},t.prototype.applySelectedClass=function(){this.selected?this.renderer.addClass(this.host.nativeElement,this.config.selectedClass):this.renderer.removeClass(this.host.nativeElement,this.config.selectedClass)},t.decorators=[{type:n.Directive,args:[{selector:"[dtsSelectItem]",exportAs:"dtsSelectItem",host:{class:"dts-select-item"}}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[_]}]},{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]},{type:n.ElementRef},{type:n.Renderer2}]},t.propDecorators={rangeStart:[{type:n.HostBinding,args:["class.dts-range-start"]}],dtsSelectItem:[{type:n.Input}]},t}();var w={alt:!0,shift:!0,meta:!0,ctrl:!0},x=/[a-z]/,R=((v={}).meta=["ctrl","meta"],v),C={moveRangeStart:!0,disableSelection:!0,toggleSingleItem:!0,addToSelection:!0,removeFromSelection:!0};var $=function(){function t(t,n,r){var i=this;if(this.platformId=t,this.keyboardEvents=r,this._shortcuts={},this._latestShortcut=new Map,this._shortcuts=this._createShortcutsFromConfig(n.shortcuts),e.isPlatformBrowser(this.platformId)){var c=this.keyboardEvents.keydown$.pipe(s.map((function(t){return{code:t.code,pressed:!0}}))),l=this.keyboardEvents.keyup$.pipe(s.map((function(t){return{code:t.code,pressed:!1}})));o.merge(c,l).pipe(s.distinctUntilChanged((function(t,e){return t.pressed===e.pressed&&t.code===e.code}))).subscribe((function(t){t.pressed?i._latestShortcut.set(t.code,!0):i._latestShortcut.delete(t.code)}))}}return t.prototype.disableSelection=function(t){return this._isShortcutPressed("disableSelection",t)},t.prototype.moveRangeStart=function(t){return this._isShortcutPressed("moveRangeStart",t)},t.prototype.toggleSingleItem=function(t){return this._isShortcutPressed("toggleSingleItem",t)},t.prototype.addToSelection=function(t){return this._isShortcutPressed("addToSelection",t)},t.prototype.removeFromSelection=function(t){return this._isShortcutPressed("removeFromSelection",t)},t.prototype.extendedSelectionShortcut=function(t){return this.addToSelection(t)||this.removeFromSelection(t)},t.prototype._createShortcutsFromConfig=function(t){var e,n,o=this,s={},c=function(t,e){if(!l._isSupportedShortcut(t))throw new Error(l._getErrorMessage("Shortcut "+t+" not supported"));e.replace(/ /g,"").split(",").forEach((function(e){s[t]||(s[t]=[]);var n=e.split("+");o._substituteKey(e,n,"meta").forEach((function(n){var r=o._isSupportedCombo(n);if(r)throw new Error(o._getErrorMessage("Key '"+r+"' in shortcut "+e+" not supported"));s[t].push(n.map((function(t){return w[t]?t+"Key":"Key"+t.toUpperCase()})))}))}))},l=this;try{for(var a=r(Object.entries(t)),u=a.next();!u.done;u=a.next()){var d=i(u.value,2);c(d[0],d[1])}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return s},t.prototype._substituteKey=function(t,e,n){var o=t.includes(n),s=[];if(o){var r=e.filter((function(t){return"meta"!==t}));R.meta.forEach((function(t){s.push(c(r,[t]))}))}else s.push(e);return s},t.prototype._getErrorMessage=function(t){return"[ShortcutService] "+t},t.prototype._isShortcutPressed=function(t,e){var n=this;return this._shortcuts[t].some((function(t){return t.every((function(t){return n._isKeyPressed(e,t)}))}))},t.prototype._isKeyPressed=function(t,e){return e.startsWith("Key")?this._latestShortcut.has(e):t[e]},t.prototype._isSupportedCombo=function(t){var e=this,n=null;return t.forEach((function(t){w[t]||x.test(t)&&!e._isSingleChar(t)||(n=t)})),n},t.prototype._isSingleChar=function(t){return t.length>1},t.prototype._isSupportedShortcut=function(t){return C[t]},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]},{type:void 0,decorators:[{type:n.Inject,args:[_]}]},{type:S}]},t}();var O={Add:0,Remove:1};O[O.Add]="Add",O[O.Remove]="Remove";var M={Add:0,Delete:1,None:2};M[M.Add]="Add",M[M.Delete]="Delete",M[M.None]="None";var T=function(){function t(t,e,s,r,i,c){this.platformId=t,this.shortcuts=e,this.keyboardEvents=s,this.hostElementRef=r,this.renderer=i,this.ngZone=c,this.selectOnDrag=!0,this.disabled=!1,this.disableDrag=!1,this.disableRangeSelection=!1,this.selectMode=!1,this.selectWithShortcut=!1,this.custom=!1,this.selectedItemsChange=new n.EventEmitter,this.select=new n.EventEmitter,this.itemSelected=new n.EventEmitter,this.itemDeselected=new n.EventEmitter,this.selectionStarted=new n.EventEmitter,this.selectionEnded=new n.EventEmitter,this._tmpItems=new Map,this._selectedItems$=new o.BehaviorSubject([]),this._selectableItems=[],this.updateItems$=new o.Subject,this.destroy$=new o.Subject,this._lastRange=[-1,-1],this._lastStartIndex=void 0,this._newRangeStart=!1,this._lastRangeSelection=new Map}return t.prototype.ngAfterViewInit=function(){var t,n=this;if(e.isPlatformBrowser(this.platformId)){this.host=this.hostElementRef.nativeElement,this._initSelectedItemsChange(),this._calculateBoundingClientRect(),this._observeBoundingRectChanges(),this._observeSelectableItems();var r=this.keyboardEvents.mouseup$.pipe(s.filter((function(){return!n.disabled})),s.tap((function(){return n._onMouseUp()})),s.share()),c=this.keyboardEvents.mousemove$.pipe(s.filter((function(){return!n.disabled})),s.share()),l=o.fromEvent(this.host,"mousedown").pipe(s.filter((function(t){return 0===t.button})),s.filter((function(){return!n.disabled})),s.tap((function(t){return n._onMouseDown(t)})),s.share()),a=l.pipe(s.filter((function(t){return!n.shortcuts.disableSelection(t)})),s.filter((function(){return!n.selectMode})),s.filter((function(){return!n.disableDrag})),s.switchMap((function(){return c.pipe(s.takeUntil(r))})),s.share()),u=l.pipe(s.map((function(t){return g(t,n.host)}))),h=a.pipe(s.mapTo(1)),p=r.pipe(s.mapTo(0)),m=o.merge(h,p).pipe(s.distinctUntilChanged()),f=o.combineLatest([a,m,u]).pipe((t=this.host,function(e){return e.pipe(s.map((function(e){var n=i(e,3),o=n[0],s=n[1],r=n[2],c=r.x,l=r.y,a=g(o,t),u=s>0?a.x-c:0,d=s>0?a.y-l:0;return{top:d<0?a.y:l,left:u<0?a.x:c,width:Math.abs(u),height:Math.abs(d),opacity:s}})))}),s.share());this.selectBoxClasses$=o.merge(a,r,this.keyboardEvents.distinctKeydown$,this.keyboardEvents.distinctKeyup$).pipe(s.auditTime(16),s.withLatestFrom(f),s.map((function(t){var e=i(t,2),o=e[0],s=e[1];return{"dts-adding":d(s,0,0)&&!n.shortcuts.removeFromSelection(o),"dts-removing":n.shortcuts.removeFromSelection(o)}})),s.distinctUntilChanged((function(t,e){return JSON.stringify(t)===JSON.stringify(e)})));var y=a.pipe(s.filter((function(){return!n.selectOnDrag})),s.filter((function(){return!n.selectMode})),s.filter((function(t){return n._cursorWithinHost(t)})),s.switchMap((function(t){return r.pipe(s.first())})),s.filter((function(t){return!n.shortcuts.disableSelection(t)&&!n.shortcuts.toggleSingleItem(t)||n.shortcuts.removeFromSelection(t)}))),S=f.pipe(s.auditTime(16),s.withLatestFrom(c,(function(t,e){return{selectBox:t,event:e}})),s.filter((function(){return n.selectOnDrag})),s.filter((function(t){var e=t.selectBox;return d(e)})),s.map((function(t){return t.event}))),v=o.merge(this.keyboardEvents.distinctKeydown$,this.keyboardEvents.distinctKeyup$).pipe(s.auditTime(16),function(t){return function(e){return e.pipe(s.withLatestFrom(t),s.filter((function(t){var e=i(t,2)[1];return d(e,0,0)})),s.map((function(t){var e=i(t,2),n=e[0];e[1];return n})))}}(f),s.tap((function(t){n._isExtendedSelection(t)?n._tmpItems.clear():n._flushItems()})));o.merge(y,S,v).pipe(s.takeUntil(this.destroy$)).subscribe((function(t){return n._selectItems(t)})),this.selectBoxStyles$=f.pipe(s.map((function(t){return{top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px",opacity:t.opacity}}))),this._initSelectionOutputs(l,r)}},t.prototype.ngAfterContentInit=function(){this._selectableItems=this.$selectableItems.toArray()},t.prototype.selectAll=function(){var t=this;this.$selectableItems.forEach((function(e){t._selectItem(e)}))},t.prototype.toggleItems=function(t){var e=this;this._filterSelectableItems(t).subscribe((function(t){return e._toggleItem(t)}))},t.prototype.selectItems=function(t){var e=this;this._filterSelectableItems(t).subscribe((function(t){return e._selectItem(t)}))},t.prototype.deselectItems=function(t){var e=this;this._filterSelectableItems(t).subscribe((function(t){return e._deselectItem(t)}))},t.prototype.clearSelection=function(){var t=this;this.$selectableItems.forEach((function(e){t._deselectItem(e)}))},t.prototype.update=function(){this._calculateBoundingClientRect(),this.$selectableItems.forEach((function(t){return t.calculateBoundingClientRect()}))},t.prototype.selectRange=function(t,e){var n=this;this.$selectableItems.forEach((function(o,s){s>=t&&s<=e?n._selectItem(o):n._deselectItem(o)}))},t.prototype.selectArray=function(t){var e=this;this.$selectableItems.forEach((function(n,o){t.includes(o)?e._selectItem(n):e._deselectItem(n)}))},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype._filterSelectableItems=function(t){return o.from(this._selectableItems).pipe(s.filter((function(e){return t(e.value)})))},t.prototype._initSelectedItemsChange=function(){var t=this;this._selectedItems$.pipe(s.auditTime(16),s.takeUntil(this.destroy$)).subscribe({next:function(e){t.selectedItemsChange.emit(e),t.select.emit(e)},complete:function(){t.selectedItemsChange.emit([])}})},t.prototype._observeSelectableItems=function(){var t=this;this.updateItems$.pipe(s.withLatestFrom(this._selectedItems$),s.takeUntil(this.destroy$)).subscribe((function(e){var n=i(e,2),o=n[0],s=n[1],r=o.item;switch(console.log("Updating item: "+r+" Update type: "+o.type),o.type){case O.Add:t._addItem(r,s)&&r._select();break;case O.Remove:t._removeItem(r,s)&&r._deselect()}})),this.$selectableItems.changes.pipe(s.withLatestFrom(this._selectedItems$),s.observeOn(o.asyncScheduler),s.takeUntil(this.destroy$)).subscribe((function(e){var n=i(e,2),o=n[0],s=n[1],r=o.toArray();t._selectableItems=r;var c=s.filter((function(t){return!r.includes(t.value)}));c.length&&c.forEach((function(e){return t._removeItem(e,s)})),t.update()}))},t.prototype._observeBoundingRectChanges=function(){var t=this;this.ngZone.runOutsideAngular((function(){var e=o.fromEvent(window,"resize"),n=o.fromEvent(window,"scroll"),r=o.fromEvent(t.host,"scroll");o.merge(e,n,r).pipe(s.startWith("INITIAL_UPDATE"),s.auditTime(16),s.takeUntil(t.destroy$)).subscribe((function(){t.update()}))}))},t.prototype._initSelectionOutputs=function(t,e){var n=this;t.pipe(s.filter((function(t){return n._cursorWithinHost(t)})),s.tap((function(){return n.selectionStarted.emit()})),s.concatMapTo(e.pipe(s.first())),s.withLatestFrom(this._selectedItems$),s.map((function(t){return i(t,2)[1]})),s.takeUntil(this.destroy$)).subscribe((function(t){n.selectionEnded.emit(t)}))},t.prototype._calculateBoundingClientRect=function(){this.host.boundingClientRect=m(this.host)},t.prototype._cursorWithinHost=function(t){return function(t,e){var n=f(t);return h(n,m(e))}(t,this.host)},t.prototype._onMouseUp=function(){this._flushItems(),this.renderer.removeClass(document.body,"dts-no-select")},t.prototype._onMouseDown=function(t){var e=this;if(!this.shortcuts.disableSelection(t)&&!this.disabled&&(function(t){var e=t.getSelection();e&&(e.removeAllRanges?e.removeAllRanges():e.empty&&e.empty())}(window),this.disableDrag||this.renderer.addClass(document.body,"dts-no-select"),!this.shortcuts.removeFromSelection(t))){var n=f(t),o=i(this._getClosestSelectItem(t),2),s=o[0],r=o[1],c=i(this._lastRange,2),l=c[0],a=c[1],u=this.shortcuts.moveRangeStart(t),d=!this.shortcuts.extendedSelectionShortcut(t)||u||this.disableRangeSelection;d&&this._resetRangeStart(),d&&!this.disableRangeSelection&&(s>-1?(this._newRangeStart=!0,this._lastStartIndex=s,r.toggleRangeStart(),this._lastRangeSelection.clear()):this._lastStartIndex=-1),s>-1&&(l=Math.min(this._lastStartIndex,s),a=Math.max(this._lastStartIndex,s),this._lastRange=[l,a]),u||(this.$selectableItems.forEach((function(o,r){var i=o.getBoundingClientRect(),c=h(n,i);if(!e.shortcuts.extendedSelectionShortcut(t)||!e.disableRangeSelection){var u=e.shortcuts.extendedSelectionShortcut(t)&&l>-1&&a>-1&&r>=l&&r<=a&&l!==a,d=c&&!e.shortcuts.toggleSingleItem(t)&&!e.selectMode&&!e.selectWithShortcut||e.shortcuts.extendedSelectionShortcut(t)&&o.selected&&!e._lastRangeSelection.get(o)||u||c&&e.shortcuts.toggleSingleItem(t)&&!o.selected||!c&&e.shortcuts.toggleSingleItem(t)&&o.selected||c&&!o.selected&&e.selectMode||!c&&o.selected&&e.selectMode,p=!c&&!e.shortcuts.toggleSingleItem(t)&&!e.selectMode&&!e.shortcuts.extendedSelectionShortcut(t)&&!e.selectWithShortcut||e.shortcuts.extendedSelectionShortcut(t)&&s>-1||!c&&e.shortcuts.toggleSingleItem(t)&&!o.selected||c&&e.shortcuts.toggleSingleItem(t)&&o.selected||!c&&!o.selected&&e.selectMode||c&&o.selected&&e.selectMode;d?e._selectItem(o):p&&e._deselectItem(o),u&&!e._lastRangeSelection.get(o)?e._lastRangeSelection.set(o,!0):u||e._newRangeStart||o.selected||e._lastRangeSelection.delete(o)}})),this.shortcuts.toggleSingleItem(t)||(this._newRangeStart=!1))}},t.prototype._selectItems=function(t){var e=this,n=m(this.$selectBox.nativeElement);this.$selectableItems.forEach((function(o,s){e._isExtendedSelection(t)?e._extendedSelectionMode(n,o,t):(e._normalSelectionMode(n,o,t),e._lastStartIndex<0&&o.selected&&(o.toggleRangeStart(),e._lastStartIndex=s))}))},t.prototype._isExtendedSelection=function(t){return this.shortcuts.extendedSelectionShortcut(t)&&this.selectOnDrag},t.prototype._normalSelectionMode=function(t,e,n){var o=p(t,e.getBoundingClientRect()),s=o&&!e.selected&&!this.shortcuts.removeFromSelection(n),r=!o&&e.selected&&!this.shortcuts.addToSelection(n)||o&&e.selected&&this.shortcuts.removeFromSelection(n);s?this._selectItem(e):r&&this._deselectItem(e)},t.prototype._extendedSelectionMode=function(t,e,n){var o=p(t,e.getBoundingClientRect()),s=o&&!e.selected&&!this.shortcuts.removeFromSelection(n)&&!this._tmpItems.has(e)||o&&e.selected&&this.shortcuts.removeFromSelection(n)&&!this._tmpItems.has(e),r=!o&&e.selected&&this.shortcuts.addToSelection(n)&&this._tmpItems.has(e)||!o&&!e.selected&&this.shortcuts.removeFromSelection(n)&&this._tmpItems.has(e);if(s){e.selected?e._deselect():e._select();var i=this.shortcuts.removeFromSelection(n)?M.Delete:this.shortcuts.addToSelection(n)?M.Add:M.None;this._tmpItems.set(e,i)}else r&&(this.shortcuts.removeFromSelection(n)?e._select():e._deselect(),this._tmpItems.delete(e))},t.prototype._flushItems=function(){var t=this;this._tmpItems.forEach((function(e,n){e===M.Add&&t._selectItem(n),e===M.Delete&&t._deselectItem(n)})),this._tmpItems.clear()},t.prototype._addItem=function(t,e){var n=!1;return this._hasItem(t,e)||(n=!0,e.push(t.value),this._selectedItems$.next(e),this.itemSelected.emit(t.value)),n},t.prototype._removeItem=function(t,e){var n=!1,o=t instanceof E?t.value:t,s=e.indexOf(o);return s>-1&&(n=!0,e.splice(s,1),this._selectedItems$.next(e),this.itemDeselected.emit(t.value)),n},t.prototype._toggleItem=function(t){t.selected?this._deselectItem(t):this._selectItem(t)},t.prototype._selectItem=function(t){this.updateItems$.next({type:O.Add,item:t})},t.prototype._deselectItem=function(t){this.updateItems$.next({type:O.Remove,item:t})},t.prototype._hasItem=function(t,e){return e.includes(t.value)},t.prototype._getClosestSelectItem=function(t){var e=t.target.closest(".dts-select-item"),n=-1,o=null;return e&&(o=e[b],n=this._selectableItems.indexOf(o)),[n,o]},t.prototype._resetRangeStart=function(){this._lastRange=[-1,-1];var t=this._getLastRangeSelection();t&&t.rangeStart&&t.toggleRangeStart()},t.prototype._getLastRangeSelection=function(){return this._lastStartIndex>=0?this._selectableItems[this._lastStartIndex]:null},t.decorators=[{type:n.Component,args:[{selector:"dts-select-container",exportAs:"dts-select-container",host:{class:"dts-select-container"},template:'\n    <ng-content></ng-content>\n    <div\n      class="dts-select-box"\n      #selectBox\n      [ngClass]="selectBoxClasses$ | async"\n      [ngStyle]="selectBoxStyles$ | async"\n    ></div>\n  ',styles:[":host{display:block;position:relative}"]}]}],t.ctorParameters=function(){return[{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]},{type:$},{type:S},{type:n.ElementRef},{type:n.Renderer2},{type:n.NgZone}]},t.propDecorators={$selectBox:[{type:n.ViewChild,args:["selectBox",{static:!0}]}],$selectableItems:[{type:n.ContentChildren,args:[E,{descendants:!0}]}],selectedItems:[{type:n.Input}],selectOnDrag:[{type:n.Input}],disabled:[{type:n.Input}],disableDrag:[{type:n.Input}],disableRangeSelection:[{type:n.Input}],selectMode:[{type:n.Input}],selectWithShortcut:[{type:n.Input}],custom:[{type:n.Input},{type:n.HostBinding,args:["class.dts-custom"]}],selectedItemsChange:[{type:n.Output}],select:[{type:n.Output}],itemSelected:[{type:n.Output}],itemDeselected:[{type:n.Output}],selectionStarted:[{type:n.Output}],selectionEnded:[{type:n.Output}]},t}();var j=[T,E];function F(t){return u(l,t)}var A=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[$,S,{provide:I,useValue:e},{provide:_,useFactory:F,deps:[I]}]}},t.decorators=[{type:n.NgModule,args:[{imports:[e.CommonModule],declarations:c(j),exports:c(j)}]}],t}();t.CONFIG_FACTORY=F,t.DragToSelectModule=A,t.SELECT_ITEM_INSTANCE=b,t.SelectContainerComponent=T,t.SelectItemDirective=E,t.ɵa=u,t.ɵb=l,t.ɵc=_,t.ɵd=I,t.ɵf=$,t.ɵg=S,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-drag-to-select.umd.min.js.map